<!DOCTYPE html>
<html>
  <head>
    <title>Shopify Snippet SaaS</title>
   <link rel="stylesheet" href="styles/style.css" />
  </head>
  <body>
  <div class="sidebar">
    <h2>Snippets</h2>
    <ul>
      <li onclick="loadSnippet('cartUpsell')">ðŸ›’ Cart Drawer Upsell</li>
      <li onclick="loadSnippet('stickyATC')">ðŸ“Œ Sticky Add-to-Cart</li>
    </ul>
  </div>

  <div class="main">
    <div class="left">
      <h2>Copy the Snippet</h2>
      <pre id="code"></pre>
      <button onclick="copyCode()">Copy Snippet</button>
    </div>
    <div class="right">
      <h2>Live Preview</h2>
      <iframe id="preview" srcdoc=""></iframe>
    </div>
  </div>

 <script>
  async function fetchSnippets() {
    const response = await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vQCHPQk7CylQPPqM1Dii_jMj5YZxRooDPQbwCwTVkT-NVHM0rJRvGJsUZFotBYexxTeagbJcTP2_0DX/pub?output=csv");
    const text = await response.text();
    const rows = text.split("\n").slice(1); // remove header
    const snippets = {};

    rows.forEach(row => {
      const [id, title, code, preview] = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/); // handle commas inside quotes
      if (!id || !code || !preview) return;

      // Build sidebar list
      const li = document.createElement("li");
      li.textContent = title.replace(/"/g, "");
      li.onclick = () => loadSnippet(id.trim

</body>

</html>
